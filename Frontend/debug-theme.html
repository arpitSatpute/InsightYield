<!-- Debug Theme Toggle Script -->
<script>
  // This will log when localStorage is accessed and when DOM is modified
  const originalSetItem = localStorage.setItem;
  const originalGetItem = localStorage.getItem;
  
  localStorage.setItem = function(key, value) {
    console.log(`[localStorage.setItem] ${key} = ${value}`);
    originalSetItem.call(this, key, value);
  };
  
  localStorage.getItem = function(key) {
    const value = originalGetItem.call(this, key);
    console.log(`[localStorage.getItem] ${key} = ${value}`);
    return value;
  };
  
  // Monitor dark class changes
  const observer = new MutationObserver((mutations) => {
    mutations.forEach((mutation) => {
      if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
        console.log(`[DOM] HTML class changed:`, document.documentElement.className);
      }
    });
  });
  
  observer.observe(document.documentElement, { attributes: true });
  
  // Log initial state
  console.log('[INIT] Page loaded');
  console.log('[INIT] Current theme:', localStorage.getItem('theme'));
  console.log('[INIT] HTML classes:', document.documentElement.className);
</script>
